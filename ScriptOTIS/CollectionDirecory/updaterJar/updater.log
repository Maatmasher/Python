2025-07-16 00:36:08,089 - INFO - === Начало работы скрипта ===
2025-07-16 00:36:08,089 - DEBUG - Создание экземпляра UnifiedServerUpdater
2025-07-16 00:36:08,090 - DEBUG - Инициализация UnifiedServerUpdater
2025-07-16 00:36:08,090 - DEBUG - Параметры: centrum_host=10.9.30.101, config_dir=c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\updaterJar, jar_name=ConfiguratorCmdClient-1.5.1.jar, target_version=10.4.15.11, batch_size=2, max_iterations=2
2025-07-16 00:36:08,090 - INFO - UnifiedServerUpdater успешно инициализирован
2025-07-16 00:36:08,090 - INFO - Получение статуса всех узлов
2025-07-16 00:36:08,091 - INFO - Получение состояния всех узлов с Centrum
2025-07-16 00:36:08,091 - DEBUG - Выполнение команды: args=['-ch', '10.9.30.101', '--all'], max_retries=3
2025-07-16 00:36:08,091 - INFO - Попытка 1 из 3
2025-07-16 00:36:08,092 - DEBUG - Запуск subprocess.run с командой: java -jar c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\updaterJar\ConfiguratorCmdClient-1.5.1.jar -ch 10.9.30.101 --all
2025-07-16 00:36:09,211 - DEBUG - Получен вывод команды (первые 200 символов): tp=1.0.0.0;type=CENTRUM;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.101;ut=06.07.2025 16:46;local patches=[];
tp=1.0.98989.0;type=RETAIL;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;...
2025-07-16 00:36:09,212 - DEBUG - Начало парсинга вывода команды
2025-07-16 00:36:09,212 - DEBUG - Парсинг строк вывода для статусов обновления
2025-07-16 00:36:09,213 - DEBUG - Обработка строки: tp=1.0.0.0;type=CENTRUM;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.101;ut=06.07.2025 16:46;local patches=[];
2025-07-16 00:36:09,213 - DEBUG - Обработка строки: tp=1.0.98989.0;type=RETAIL;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.102;ut=06.07.2025 16:48;local patches=[];
2025-07-16 00:36:09,213 - DEBUG - Обработка строки: tp=1.0.98989.1;type=POS;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.131.0.11;ut=07.07.2025 00:32;local patches=[pos_10.4.16.4_10.4.16.5];
2025-07-16 00:36:09,213 - DEBUG - Обработка строки: tp=1.0.98989.2;type=SCO;cv=10.4.16.5;pv=null;online=false;status=IN_WORK;ip=10.131.0.21;ut=07.07.2025 00:32;local patches=[sco_10.4.16.4_10.4.16.5];
2025-07-16 00:36:09,214 - DEBUG - Обработка строки: tp=1.0.98989.4;type=Touch;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.41;ut=02.07.2025 03:54;local patches=[touch_10.4.15.1_10.4.15.2, touch_10.4.15.5_10.4.16.0, touch_10.4.15.3_10.4.15.4, touch_10.4.16.2_10.4.16.3, touch_10.4.15.2_10.4.15.3, touch_10.4.16.0_10.4.16.1, touch_10.4.16.3_10.4.16.4, touch_10.4.15.4_10.4.15.5, touch_10.4.16.1_10.4.16.2];
2025-07-16 00:36:09,214 - DEBUG - Обработка строки: tp=1.0.98989.5;type=SCO3;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.51;ut=02.07.2025 03:44;local patches=[sco3_10.4.15.7_10.4.15.8, sco3_10.4.15.0_10.4.15.1, sco3_10.4.15.1_10.4.15.2, sco3_10.4.14.12_10.4.14.13, sco3_10.4.16.2_10.4.16.3, sco3_10.4.15.5_10.4.15.6, sco3_10.4.15.6_10.4.15.7, sco3_10.4.15.2_10.4.15.3, sco3_10.4.14.14_10.4.15.0, sco3_10.4.15.4_10.4.15.5, sco3_10.4.15.3_10.4.15.4, sco3_10.4.14.11_10.4.14.12, sco3_10.4.16.0_10.4.16.1, sco3_10.4.14.13_10.4.14.14, sco3_10.4.15.8_10.4.15.9, sco3_10.4.16.1_10.4.16.2, sco3_10.4.15.10_10.4.16.0, sco3_10.4.15.9_10.4.15.10, sco3_10.4.16.3_10.4.16.4];
2025-07-16 00:36:09,244 - DEBUG - Обработка строки: tp=1.0.98989.6;type=SCO3;cv=10.4.16.0;pv=null;online=true;status=IN_WORK;ip=10.131.0.61;ut=null;local patches=[];
2025-07-16 00:36:09,244 - DEBUG - Обработка строки: 
2025-07-16 00:36:09,244 - DEBUG - Обработка строки: Current client version: v1.5.1
2025-07-16 00:36:09,244 - DEBUG - Обработка строки: 
2025-07-16 00:36:09,245 - DEBUG - Парсинг строк вывода для детальной информации об узлах
2025-07-16 00:36:09,245 - DEBUG - Обработка строки данных: tp=1.0.0.0;type=CENTRUM;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.101;ut=06.07.2025 16:46;local patches=[];
2025-07-16 00:36:09,245 - DEBUG - Добавление/обновление узла 10.9.30.101: {'tp': '1.0.0.0', 'type': 'CENTRUM', 'cv': '10.4.16.5', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.9.30.101', 'ut': '06.07.2025 16:46', 'local patches': '[]'}
2025-07-16 00:36:09,246 - DEBUG - Обработка строки данных: tp=1.0.98989.0;type=RETAIL;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.102;ut=06.07.2025 16:48;local patches=[];
2025-07-16 00:36:09,246 - DEBUG - Добавление/обновление узла 10.9.30.102: {'tp': '1.0.98989.0', 'type': 'RETAIL', 'cv': '10.4.16.5', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.9.30.102', 'ut': '06.07.2025 16:48', 'local patches': '[]'}
2025-07-16 00:36:09,246 - DEBUG - Обработка строки данных: tp=1.0.98989.1;type=POS;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.131.0.11;ut=07.07.2025 00:32;local patches=[pos_10.4.16.4_10.4.16.5];
2025-07-16 00:36:09,246 - DEBUG - Добавление/обновление узла 10.131.0.11: {'tp': '1.0.98989.1', 'type': 'POS', 'cv': '10.4.16.5', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.11', 'ut': '07.07.2025 00:32', 'local patches': '[pos_10.4.16.4_10.4.16.5]'}
2025-07-16 00:36:09,247 - DEBUG - Обработка строки данных: tp=1.0.98989.2;type=SCO;cv=10.4.16.5;pv=null;online=false;status=IN_WORK;ip=10.131.0.21;ut=07.07.2025 00:32;local patches=[sco_10.4.16.4_10.4.16.5];
2025-07-16 00:36:09,247 - DEBUG - Добавление/обновление узла 10.131.0.21: {'tp': '1.0.98989.2', 'type': 'SCO', 'cv': '10.4.16.5', 'pv': None, 'online': 'false', 'status': 'IN_WORK', 'ip': '10.131.0.21', 'ut': '07.07.2025 00:32', 'local patches': '[sco_10.4.16.4_10.4.16.5]'}
2025-07-16 00:36:09,247 - DEBUG - Узел 10.131.0.21 недоступен (status=IN_WORK, online=FALSE)
2025-07-16 00:36:09,248 - DEBUG - Обработка строки данных: tp=1.0.98989.4;type=Touch;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.41;ut=02.07.2025 03:54;local patches=[touch_10.4.15.1_10.4.15.2, touch_10.4.15.5_10.4.16.0, touch_10.4.15.3_10.4.15.4, touch_10.4.16.2_10.4.16.3, touch_10.4.15.2_10.4.15.3, touch_10.4.16.0_10.4.16.1, touch_10.4.16.3_10.4.16.4, touch_10.4.15.4_10.4.15.5, touch_10.4.16.1_10.4.16.2];
2025-07-16 00:36:09,248 - DEBUG - Добавление/обновление узла 10.131.0.41: {'tp': '1.0.98989.4', 'type': 'Touch', 'cv': '10.4.16.4', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.41', 'ut': '02.07.2025 03:54', 'local patches': '[touch_10.4.15.1_10.4.15.2, touch_10.4.15.5_10.4.16.0, touch_10.4.15.3_10.4.15.4, touch_10.4.16.2_10.4.16.3, touch_10.4.15.2_10.4.15.3, touch_10.4.16.0_10.4.16.1, touch_10.4.16.3_10.4.16.4, touch_10.4.15.4_10.4.15.5, touch_10.4.16.1_10.4.16.2]'}
2025-07-16 00:36:09,249 - DEBUG - Обработка строки данных: tp=1.0.98989.5;type=SCO3;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.51;ut=02.07.2025 03:44;local patches=[sco3_10.4.15.7_10.4.15.8, sco3_10.4.15.0_10.4.15.1, sco3_10.4.15.1_10.4.15.2, sco3_10.4.14.12_10.4.14.13, sco3_10.4.16.2_10.4.16.3, sco3_10.4.15.5_10.4.15.6, sco3_10.4.15.6_10.4.15.7, sco3_10.4.15.2_10.4.15.3, sco3_10.4.14.14_10.4.15.0, sco3_10.4.15.4_10.4.15.5, sco3_10.4.15.3_10.4.15.4, sco3_10.4.14.11_10.4.14.12, sco3_10.4.16.0_10.4.16.1, sco3_10.4.14.13_10.4.14.14, sco3_10.4.15.8_10.4.15.9, sco3_10.4.16.1_10.4.16.2, sco3_10.4.15.10_10.4.16.0, sco3_10.4.15.9_10.4.15.10, sco3_10.4.16.3_10.4.16.4];
2025-07-16 00:36:09,249 - DEBUG - Добавление/обновление узла 10.131.0.51: {'tp': '1.0.98989.5', 'type': 'SCO3', 'cv': '10.4.16.4', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.51', 'ut': '02.07.2025 03:44', 'local patches': '[sco3_10.4.15.7_10.4.15.8, sco3_10.4.15.0_10.4.15.1, sco3_10.4.15.1_10.4.15.2, sco3_10.4.14.12_10.4.14.13, sco3_10.4.16.2_10.4.16.3, sco3_10.4.15.5_10.4.15.6, sco3_10.4.15.6_10.4.15.7, sco3_10.4.15.2_10.4.15.3, sco3_10.4.14.14_10.4.15.0, sco3_10.4.15.4_10.4.15.5, sco3_10.4.15.3_10.4.15.4, sco3_10.4.14.11_10.4.14.12, sco3_10.4.16.0_10.4.16.1, sco3_10.4.14.13_10.4.14.14, sco3_10.4.15.8_10.4.15.9, sco3_10.4.16.1_10.4.16.2, sco3_10.4.15.10_10.4.16.0, sco3_10.4.15.9_10.4.15.10, sco3_10.4.16.3_10.4.16.4]'}
2025-07-16 00:36:09,250 - DEBUG - Обработка строки данных: tp=1.0.98989.6;type=SCO3;cv=10.4.16.0;pv=null;online=true;status=IN_WORK;ip=10.131.0.61;ut=null;local patches=[];
2025-07-16 00:36:09,250 - DEBUG - Добавление/обновление узла 10.131.0.61: {'tp': '1.0.98989.6', 'type': 'SCO3', 'cv': '10.4.16.0', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.61', 'ut': None, 'local patches': '[]'}
2025-07-16 00:36:09,252 - DEBUG - Обработка строки данных: 
2025-07-16 00:36:09,252 - DEBUG - Обработка строки данных: Current client version: v1.5.1
2025-07-16 00:36:09,252 - DEBUG - Обработка строки данных: 
2025-07-16 00:36:09,253 - INFO - Парсинг завершен. Узлов: 7, недоступных: 1, успешных: 0, не требующих обновления: 0
2025-07-16 00:36:09,253 - DEBUG - Результат парсинга: nodes=7, unavailable=1, success=0, no_update=0
2025-07-16 00:36:09,253 - DEBUG - Ожидание 2 секунд перед следующей попыткой
2025-07-16 00:36:11,254 - INFO - Попытка 2 из 3
2025-07-16 00:36:11,255 - DEBUG - Запуск subprocess.run с командой: java -jar c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\updaterJar\ConfiguratorCmdClient-1.5.1.jar -ch 10.9.30.101 --all
2025-07-16 00:36:12,276 - DEBUG - Получен вывод команды (первые 200 символов): tp=1.0.0.0;type=CENTRUM;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.101;ut=06.07.2025 16:46;local patches=[];
tp=1.0.98989.0;type=RETAIL;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;...
2025-07-16 00:36:12,277 - DEBUG - Начало парсинга вывода команды
2025-07-16 00:36:12,277 - DEBUG - Парсинг строк вывода для статусов обновления
2025-07-16 00:36:12,277 - DEBUG - Обработка строки: tp=1.0.0.0;type=CENTRUM;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.101;ut=06.07.2025 16:46;local patches=[];
2025-07-16 00:36:12,278 - DEBUG - Обработка строки: tp=1.0.98989.0;type=RETAIL;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.102;ut=06.07.2025 16:48;local patches=[];
2025-07-16 00:36:12,278 - DEBUG - Обработка строки: tp=1.0.98989.1;type=POS;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.131.0.11;ut=07.07.2025 00:32;local patches=[pos_10.4.16.4_10.4.16.5];
2025-07-16 00:36:12,278 - DEBUG - Обработка строки: tp=1.0.98989.2;type=SCO;cv=10.4.16.5;pv=null;online=false;status=IN_WORK;ip=10.131.0.21;ut=07.07.2025 00:32;local patches=[sco_10.4.16.4_10.4.16.5];
2025-07-16 00:36:12,278 - DEBUG - Обработка строки: tp=1.0.98989.4;type=Touch;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.41;ut=02.07.2025 03:54;local patches=[touch_10.4.15.1_10.4.15.2, touch_10.4.15.5_10.4.16.0, touch_10.4.15.3_10.4.15.4, touch_10.4.16.2_10.4.16.3, touch_10.4.15.2_10.4.15.3, touch_10.4.16.0_10.4.16.1, touch_10.4.16.3_10.4.16.4, touch_10.4.15.4_10.4.15.5, touch_10.4.16.1_10.4.16.2];
2025-07-16 00:36:12,279 - DEBUG - Обработка строки: tp=1.0.98989.5;type=SCO3;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.51;ut=02.07.2025 03:44;local patches=[sco3_10.4.15.7_10.4.15.8, sco3_10.4.15.0_10.4.15.1, sco3_10.4.15.1_10.4.15.2, sco3_10.4.14.12_10.4.14.13, sco3_10.4.16.2_10.4.16.3, sco3_10.4.15.5_10.4.15.6, sco3_10.4.15.6_10.4.15.7, sco3_10.4.15.2_10.4.15.3, sco3_10.4.14.14_10.4.15.0, sco3_10.4.15.4_10.4.15.5, sco3_10.4.15.3_10.4.15.4, sco3_10.4.14.11_10.4.14.12, sco3_10.4.16.0_10.4.16.1, sco3_10.4.14.13_10.4.14.14, sco3_10.4.15.8_10.4.15.9, sco3_10.4.16.1_10.4.16.2, sco3_10.4.15.10_10.4.16.0, sco3_10.4.15.9_10.4.15.10, sco3_10.4.16.3_10.4.16.4];
2025-07-16 00:36:12,279 - DEBUG - Обработка строки: tp=1.0.98989.6;type=SCO3;cv=10.4.16.0;pv=null;online=true;status=IN_WORK;ip=10.131.0.61;ut=null;local patches=[];
2025-07-16 00:36:12,279 - DEBUG - Обработка строки: 
2025-07-16 00:36:12,280 - DEBUG - Обработка строки: Current client version: v1.5.1
2025-07-16 00:36:12,280 - DEBUG - Обработка строки: 
2025-07-16 00:36:12,280 - DEBUG - Парсинг строк вывода для детальной информации об узлах
2025-07-16 00:36:12,280 - DEBUG - Обработка строки данных: tp=1.0.0.0;type=CENTRUM;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.101;ut=06.07.2025 16:46;local patches=[];
2025-07-16 00:36:12,281 - DEBUG - Добавление/обновление узла 10.9.30.101: {'tp': '1.0.0.0', 'type': 'CENTRUM', 'cv': '10.4.16.5', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.9.30.101', 'ut': '06.07.2025 16:46', 'local patches': '[]'}
2025-07-16 00:36:12,281 - DEBUG - Обработка строки данных: tp=1.0.98989.0;type=RETAIL;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.102;ut=06.07.2025 16:48;local patches=[];
2025-07-16 00:36:12,281 - DEBUG - Добавление/обновление узла 10.9.30.102: {'tp': '1.0.98989.0', 'type': 'RETAIL', 'cv': '10.4.16.5', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.9.30.102', 'ut': '06.07.2025 16:48', 'local patches': '[]'}
2025-07-16 00:36:12,282 - DEBUG - Обработка строки данных: tp=1.0.98989.1;type=POS;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.131.0.11;ut=07.07.2025 00:32;local patches=[pos_10.4.16.4_10.4.16.5];
2025-07-16 00:36:12,282 - DEBUG - Добавление/обновление узла 10.131.0.11: {'tp': '1.0.98989.1', 'type': 'POS', 'cv': '10.4.16.5', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.11', 'ut': '07.07.2025 00:32', 'local patches': '[pos_10.4.16.4_10.4.16.5]'}
2025-07-16 00:36:12,282 - DEBUG - Обработка строки данных: tp=1.0.98989.2;type=SCO;cv=10.4.16.5;pv=null;online=false;status=IN_WORK;ip=10.131.0.21;ut=07.07.2025 00:32;local patches=[sco_10.4.16.4_10.4.16.5];
2025-07-16 00:36:12,283 - DEBUG - Добавление/обновление узла 10.131.0.21: {'tp': '1.0.98989.2', 'type': 'SCO', 'cv': '10.4.16.5', 'pv': None, 'online': 'false', 'status': 'IN_WORK', 'ip': '10.131.0.21', 'ut': '07.07.2025 00:32', 'local patches': '[sco_10.4.16.4_10.4.16.5]'}
2025-07-16 00:36:12,283 - DEBUG - Узел 10.131.0.21 недоступен (status=IN_WORK, online=FALSE)
2025-07-16 00:36:12,283 - DEBUG - Обработка строки данных: tp=1.0.98989.4;type=Touch;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.41;ut=02.07.2025 03:54;local patches=[touch_10.4.15.1_10.4.15.2, touch_10.4.15.5_10.4.16.0, touch_10.4.15.3_10.4.15.4, touch_10.4.16.2_10.4.16.3, touch_10.4.15.2_10.4.15.3, touch_10.4.16.0_10.4.16.1, touch_10.4.16.3_10.4.16.4, touch_10.4.15.4_10.4.15.5, touch_10.4.16.1_10.4.16.2];
2025-07-16 00:36:12,284 - DEBUG - Добавление/обновление узла 10.131.0.41: {'tp': '1.0.98989.4', 'type': 'Touch', 'cv': '10.4.16.4', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.41', 'ut': '02.07.2025 03:54', 'local patches': '[touch_10.4.15.1_10.4.15.2, touch_10.4.15.5_10.4.16.0, touch_10.4.15.3_10.4.15.4, touch_10.4.16.2_10.4.16.3, touch_10.4.15.2_10.4.15.3, touch_10.4.16.0_10.4.16.1, touch_10.4.16.3_10.4.16.4, touch_10.4.15.4_10.4.15.5, touch_10.4.16.1_10.4.16.2]'}
2025-07-16 00:36:12,284 - DEBUG - Обработка строки данных: tp=1.0.98989.5;type=SCO3;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.51;ut=02.07.2025 03:44;local patches=[sco3_10.4.15.7_10.4.15.8, sco3_10.4.15.0_10.4.15.1, sco3_10.4.15.1_10.4.15.2, sco3_10.4.14.12_10.4.14.13, sco3_10.4.16.2_10.4.16.3, sco3_10.4.15.5_10.4.15.6, sco3_10.4.15.6_10.4.15.7, sco3_10.4.15.2_10.4.15.3, sco3_10.4.14.14_10.4.15.0, sco3_10.4.15.4_10.4.15.5, sco3_10.4.15.3_10.4.15.4, sco3_10.4.14.11_10.4.14.12, sco3_10.4.16.0_10.4.16.1, sco3_10.4.14.13_10.4.14.14, sco3_10.4.15.8_10.4.15.9, sco3_10.4.16.1_10.4.16.2, sco3_10.4.15.10_10.4.16.0, sco3_10.4.15.9_10.4.15.10, sco3_10.4.16.3_10.4.16.4];
2025-07-16 00:36:12,285 - DEBUG - Добавление/обновление узла 10.131.0.51: {'tp': '1.0.98989.5', 'type': 'SCO3', 'cv': '10.4.16.4', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.51', 'ut': '02.07.2025 03:44', 'local patches': '[sco3_10.4.15.7_10.4.15.8, sco3_10.4.15.0_10.4.15.1, sco3_10.4.15.1_10.4.15.2, sco3_10.4.14.12_10.4.14.13, sco3_10.4.16.2_10.4.16.3, sco3_10.4.15.5_10.4.15.6, sco3_10.4.15.6_10.4.15.7, sco3_10.4.15.2_10.4.15.3, sco3_10.4.14.14_10.4.15.0, sco3_10.4.15.4_10.4.15.5, sco3_10.4.15.3_10.4.15.4, sco3_10.4.14.11_10.4.14.12, sco3_10.4.16.0_10.4.16.1, sco3_10.4.14.13_10.4.14.14, sco3_10.4.15.8_10.4.15.9, sco3_10.4.16.1_10.4.16.2, sco3_10.4.15.10_10.4.16.0, sco3_10.4.15.9_10.4.15.10, sco3_10.4.16.3_10.4.16.4]'}
2025-07-16 00:36:12,286 - DEBUG - Обработка строки данных: tp=1.0.98989.6;type=SCO3;cv=10.4.16.0;pv=null;online=true;status=IN_WORK;ip=10.131.0.61;ut=null;local patches=[];
2025-07-16 00:36:12,287 - DEBUG - Добавление/обновление узла 10.131.0.61: {'tp': '1.0.98989.6', 'type': 'SCO3', 'cv': '10.4.16.0', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.61', 'ut': None, 'local patches': '[]'}
2025-07-16 00:36:12,287 - DEBUG - Обработка строки данных: 
2025-07-16 00:36:12,287 - DEBUG - Обработка строки данных: Current client version: v1.5.1
2025-07-16 00:36:12,288 - DEBUG - Обработка строки данных: 
2025-07-16 00:36:12,288 - INFO - Парсинг завершен. Узлов: 7, недоступных: 1, успешных: 0, не требующих обновления: 0
2025-07-16 00:36:12,288 - DEBUG - Результат парсинга: nodes=7, unavailable=1, success=0, no_update=0
2025-07-16 00:36:12,288 - DEBUG - Ожидание 2 секунд перед следующей попыткой
2025-07-16 00:36:14,289 - INFO - Попытка 3 из 3
2025-07-16 00:36:14,289 - DEBUG - Запуск subprocess.run с командой: java -jar c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\updaterJar\ConfiguratorCmdClient-1.5.1.jar -ch 10.9.30.101 --all
2025-07-16 00:36:15,274 - DEBUG - Получен вывод команды (первые 200 символов): tp=1.0.0.0;type=CENTRUM;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.101;ut=06.07.2025 16:46;local patches=[];
tp=1.0.98989.0;type=RETAIL;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;...
2025-07-16 00:36:15,274 - DEBUG - Начало парсинга вывода команды
2025-07-16 00:36:15,275 - DEBUG - Парсинг строк вывода для статусов обновления
2025-07-16 00:36:15,275 - DEBUG - Обработка строки: tp=1.0.0.0;type=CENTRUM;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.101;ut=06.07.2025 16:46;local patches=[];
2025-07-16 00:36:15,275 - DEBUG - Обработка строки: tp=1.0.98989.0;type=RETAIL;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.102;ut=06.07.2025 16:48;local patches=[];
2025-07-16 00:36:15,275 - DEBUG - Обработка строки: tp=1.0.98989.1;type=POS;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.131.0.11;ut=07.07.2025 00:32;local patches=[pos_10.4.16.4_10.4.16.5];
2025-07-16 00:36:15,276 - DEBUG - Обработка строки: tp=1.0.98989.2;type=SCO;cv=10.4.16.5;pv=null;online=false;status=IN_WORK;ip=10.131.0.21;ut=07.07.2025 00:32;local patches=[sco_10.4.16.4_10.4.16.5];
2025-07-16 00:36:15,276 - DEBUG - Обработка строки: tp=1.0.98989.4;type=Touch;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.41;ut=02.07.2025 03:54;local patches=[touch_10.4.15.1_10.4.15.2, touch_10.4.15.5_10.4.16.0, touch_10.4.15.3_10.4.15.4, touch_10.4.16.2_10.4.16.3, touch_10.4.15.2_10.4.15.3, touch_10.4.16.0_10.4.16.1, touch_10.4.16.3_10.4.16.4, touch_10.4.15.4_10.4.15.5, touch_10.4.16.1_10.4.16.2];
2025-07-16 00:36:15,276 - DEBUG - Обработка строки: tp=1.0.98989.5;type=SCO3;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.51;ut=02.07.2025 03:44;local patches=[sco3_10.4.15.7_10.4.15.8, sco3_10.4.15.0_10.4.15.1, sco3_10.4.15.1_10.4.15.2, sco3_10.4.14.12_10.4.14.13, sco3_10.4.16.2_10.4.16.3, sco3_10.4.15.5_10.4.15.6, sco3_10.4.15.6_10.4.15.7, sco3_10.4.15.2_10.4.15.3, sco3_10.4.14.14_10.4.15.0, sco3_10.4.15.4_10.4.15.5, sco3_10.4.15.3_10.4.15.4, sco3_10.4.14.11_10.4.14.12, sco3_10.4.16.0_10.4.16.1, sco3_10.4.14.13_10.4.14.14, sco3_10.4.15.8_10.4.15.9, sco3_10.4.16.1_10.4.16.2, sco3_10.4.15.10_10.4.16.0, sco3_10.4.15.9_10.4.15.10, sco3_10.4.16.3_10.4.16.4];
2025-07-16 00:36:15,277 - DEBUG - Обработка строки: tp=1.0.98989.6;type=SCO3;cv=10.4.16.0;pv=null;online=true;status=IN_WORK;ip=10.131.0.61;ut=null;local patches=[];
2025-07-16 00:36:15,277 - DEBUG - Обработка строки: 
2025-07-16 00:36:15,277 - DEBUG - Обработка строки: Current client version: v1.5.1
2025-07-16 00:36:15,278 - DEBUG - Обработка строки: 
2025-07-16 00:36:15,278 - DEBUG - Парсинг строк вывода для детальной информации об узлах
2025-07-16 00:36:15,278 - DEBUG - Обработка строки данных: tp=1.0.0.0;type=CENTRUM;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.101;ut=06.07.2025 16:46;local patches=[];
2025-07-16 00:36:15,278 - DEBUG - Добавление/обновление узла 10.9.30.101: {'tp': '1.0.0.0', 'type': 'CENTRUM', 'cv': '10.4.16.5', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.9.30.101', 'ut': '06.07.2025 16:46', 'local patches': '[]'}
2025-07-16 00:36:15,279 - DEBUG - Обработка строки данных: tp=1.0.98989.0;type=RETAIL;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.9.30.102;ut=06.07.2025 16:48;local patches=[];
2025-07-16 00:36:15,279 - DEBUG - Добавление/обновление узла 10.9.30.102: {'tp': '1.0.98989.0', 'type': 'RETAIL', 'cv': '10.4.16.5', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.9.30.102', 'ut': '06.07.2025 16:48', 'local patches': '[]'}
2025-07-16 00:36:15,279 - DEBUG - Обработка строки данных: tp=1.0.98989.1;type=POS;cv=10.4.16.5;pv=null;online=true;status=IN_WORK;ip=10.131.0.11;ut=07.07.2025 00:32;local patches=[pos_10.4.16.4_10.4.16.5];
2025-07-16 00:36:15,279 - DEBUG - Добавление/обновление узла 10.131.0.11: {'tp': '1.0.98989.1', 'type': 'POS', 'cv': '10.4.16.5', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.11', 'ut': '07.07.2025 00:32', 'local patches': '[pos_10.4.16.4_10.4.16.5]'}
2025-07-16 00:36:15,279 - DEBUG - Обработка строки данных: tp=1.0.98989.2;type=SCO;cv=10.4.16.5;pv=null;online=false;status=IN_WORK;ip=10.131.0.21;ut=07.07.2025 00:32;local patches=[sco_10.4.16.4_10.4.16.5];
2025-07-16 00:36:15,280 - DEBUG - Добавление/обновление узла 10.131.0.21: {'tp': '1.0.98989.2', 'type': 'SCO', 'cv': '10.4.16.5', 'pv': None, 'online': 'false', 'status': 'IN_WORK', 'ip': '10.131.0.21', 'ut': '07.07.2025 00:32', 'local patches': '[sco_10.4.16.4_10.4.16.5]'}
2025-07-16 00:36:15,280 - DEBUG - Узел 10.131.0.21 недоступен (status=IN_WORK, online=FALSE)
2025-07-16 00:36:15,280 - DEBUG - Обработка строки данных: tp=1.0.98989.4;type=Touch;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.41;ut=02.07.2025 03:54;local patches=[touch_10.4.15.1_10.4.15.2, touch_10.4.15.5_10.4.16.0, touch_10.4.15.3_10.4.15.4, touch_10.4.16.2_10.4.16.3, touch_10.4.15.2_10.4.15.3, touch_10.4.16.0_10.4.16.1, touch_10.4.16.3_10.4.16.4, touch_10.4.15.4_10.4.15.5, touch_10.4.16.1_10.4.16.2];
2025-07-16 00:36:15,280 - DEBUG - Добавление/обновление узла 10.131.0.41: {'tp': '1.0.98989.4', 'type': 'Touch', 'cv': '10.4.16.4', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.41', 'ut': '02.07.2025 03:54', 'local patches': '[touch_10.4.15.1_10.4.15.2, touch_10.4.15.5_10.4.16.0, touch_10.4.15.3_10.4.15.4, touch_10.4.16.2_10.4.16.3, touch_10.4.15.2_10.4.15.3, touch_10.4.16.0_10.4.16.1, touch_10.4.16.3_10.4.16.4, touch_10.4.15.4_10.4.15.5, touch_10.4.16.1_10.4.16.2]'}
2025-07-16 00:36:15,281 - DEBUG - Обработка строки данных: tp=1.0.98989.5;type=SCO3;cv=10.4.16.4;pv=null;online=true;status=IN_WORK;ip=10.131.0.51;ut=02.07.2025 03:44;local patches=[sco3_10.4.15.7_10.4.15.8, sco3_10.4.15.0_10.4.15.1, sco3_10.4.15.1_10.4.15.2, sco3_10.4.14.12_10.4.14.13, sco3_10.4.16.2_10.4.16.3, sco3_10.4.15.5_10.4.15.6, sco3_10.4.15.6_10.4.15.7, sco3_10.4.15.2_10.4.15.3, sco3_10.4.14.14_10.4.15.0, sco3_10.4.15.4_10.4.15.5, sco3_10.4.15.3_10.4.15.4, sco3_10.4.14.11_10.4.14.12, sco3_10.4.16.0_10.4.16.1, sco3_10.4.14.13_10.4.14.14, sco3_10.4.15.8_10.4.15.9, sco3_10.4.16.1_10.4.16.2, sco3_10.4.15.10_10.4.16.0, sco3_10.4.15.9_10.4.15.10, sco3_10.4.16.3_10.4.16.4];
2025-07-16 00:36:15,281 - DEBUG - Добавление/обновление узла 10.131.0.51: {'tp': '1.0.98989.5', 'type': 'SCO3', 'cv': '10.4.16.4', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.51', 'ut': '02.07.2025 03:44', 'local patches': '[sco3_10.4.15.7_10.4.15.8, sco3_10.4.15.0_10.4.15.1, sco3_10.4.15.1_10.4.15.2, sco3_10.4.14.12_10.4.14.13, sco3_10.4.16.2_10.4.16.3, sco3_10.4.15.5_10.4.15.6, sco3_10.4.15.6_10.4.15.7, sco3_10.4.15.2_10.4.15.3, sco3_10.4.14.14_10.4.15.0, sco3_10.4.15.4_10.4.15.5, sco3_10.4.15.3_10.4.15.4, sco3_10.4.14.11_10.4.14.12, sco3_10.4.16.0_10.4.16.1, sco3_10.4.14.13_10.4.14.14, sco3_10.4.15.8_10.4.15.9, sco3_10.4.16.1_10.4.16.2, sco3_10.4.15.10_10.4.16.0, sco3_10.4.15.9_10.4.15.10, sco3_10.4.16.3_10.4.16.4]'}
2025-07-16 00:36:15,282 - DEBUG - Обработка строки данных: tp=1.0.98989.6;type=SCO3;cv=10.4.16.0;pv=null;online=true;status=IN_WORK;ip=10.131.0.61;ut=null;local patches=[];
2025-07-16 00:36:15,311 - DEBUG - Добавление/обновление узла 10.131.0.61: {'tp': '1.0.98989.6', 'type': 'SCO3', 'cv': '10.4.16.0', 'pv': None, 'online': 'true', 'status': 'IN_WORK', 'ip': '10.131.0.61', 'ut': None, 'local patches': '[]'}
2025-07-16 00:36:15,311 - DEBUG - Обработка строки данных: 
2025-07-16 00:36:15,312 - DEBUG - Обработка строки данных: Current client version: v1.5.1
2025-07-16 00:36:15,312 - DEBUG - Обработка строки данных: 
2025-07-16 00:36:15,312 - INFO - Парсинг завершен. Узлов: 7, недоступных: 1, успешных: 0, не требующих обновления: 0
2025-07-16 00:36:15,312 - DEBUG - Результат парсинга: nodes=7, unavailable=1, success=0, no_update=0
2025-07-16 00:36:15,313 - DEBUG - Добавление недоступного узла: 10.131.0.21
2025-07-16 00:36:15,313 - DEBUG - Вызов _categorize_nodes для классификации узлов
2025-07-16 00:36:15,313 - DEBUG - Начало категоризации узлов по статусам
2025-07-16 00:36:15,313 - DEBUG - Обработка узла 10.9.30.101 (tp=1.0.0.0, status=IN_WORK, type=CENTRUM, version=10.4.16.5)
2025-07-16 00:36:15,313 - DEBUG - Формирование записи для списка: 0-CENTRUM-10.9.30.101-10.4.16.5
2025-07-16 00:36:15,314 - DEBUG - Добавлен в work_tp: 0-CENTRUM-10.9.30.101-10.4.16.5
2025-07-16 00:36:15,314 - DEBUG - Обработка узла 10.9.30.102 (tp=1.0.98989.0, status=IN_WORK, type=RETAIL, version=10.4.16.5)
2025-07-16 00:36:15,314 - DEBUG - Формирование записи для списка: 98989-RETAIL-10.9.30.102-10.4.16.5
2025-07-16 00:36:15,314 - DEBUG - Добавлен в work_tp: 98989-RETAIL-10.9.30.102-10.4.16.5
2025-07-16 00:36:15,314 - DEBUG - Обработка узла 10.131.0.11 (tp=1.0.98989.1, status=IN_WORK, type=POS, version=10.4.16.5)
2025-07-16 00:36:15,315 - DEBUG - Формирование записи для списка: 98989.1-POS-10.131.0.11-10.4.16.5
2025-07-16 00:36:15,315 - DEBUG - Добавлен в work_tp: 98989.1-POS-10.131.0.11-10.4.16.5
2025-07-16 00:36:15,315 - DEBUG - Обработка узла 10.131.0.21 (tp=10.131.0.21, status=UNAVAILABLE, type=, version=)
2025-07-16 00:36:15,315 - DEBUG - Формирование записи для списка: 0.21
2025-07-16 00:36:15,315 - DEBUG - Обработка узла 10.131.0.41 (tp=1.0.98989.4, status=IN_WORK, type=Touch, version=10.4.16.4)
2025-07-16 00:36:15,316 - DEBUG - Формирование записи для списка: 98989.4-Touch-10.131.0.41-10.4.16.4
2025-07-16 00:36:15,316 - DEBUG - Добавлен в work_tp: 98989.4-Touch-10.131.0.41-10.4.16.4
2025-07-16 00:36:15,316 - DEBUG - Обработка узла 10.131.0.51 (tp=1.0.98989.5, status=IN_WORK, type=SCO3, version=10.4.16.4)
2025-07-16 00:36:15,316 - DEBUG - Формирование записи для списка: 98989.5-SCO3-10.131.0.51-10.4.16.4
2025-07-16 00:36:15,316 - DEBUG - Добавлен в work_tp: 98989.5-SCO3-10.131.0.51-10.4.16.4
2025-07-16 00:36:15,316 - DEBUG - Обработка узла 10.131.0.61 (tp=1.0.98989.6, status=IN_WORK, type=SCO3, version=10.4.16.0)
2025-07-16 00:36:15,317 - DEBUG - Формирование записи для списка: 98989.6-SCO3-10.131.0.61-10.4.16.0
2025-07-16 00:36:15,317 - DEBUG - Добавлен в work_tp: 98989.6-SCO3-10.131.0.61-10.4.16.0
2025-07-16 00:36:15,317 - INFO - Категоризация завершена. work_tp: 6, error_tp: 0, update_tp: 0, ccm_tp: 0, unzip_tp: 0, no_update_needed_tp: 0
2025-07-16 00:36:15,318 - INFO - Команда выполнена. Всего узлов: 7, успешных: 0, недоступных: 1, не требующих обновления: 0
2025-07-16 00:36:15,319 - INFO - Сохранение результатов в файл c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\Files\node_result.json
2025-07-16 00:36:15,321 - INFO - Результат сохранен в c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\Files\node_result.json (узлов: 7)
2025-07-16 00:36:15,322 - DEBUG - Сохранение списков статусов с префиксом ''
2025-07-16 00:36:15,322 - DEBUG - Удаление старого файла: c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\Files\work_tp.txt
2025-07-16 00:36:15,324 - DEBUG - Удаление старого файла: c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\Files\update_tp.txt
2025-07-16 00:36:15,328 - INFO - Список сохранен в c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\Files\work_tp.txt (записей: 6)
2025-07-16 00:36:15,329 - DEBUG - Нет данных для сохранения в c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\Files\error_tp.txt
2025-07-16 00:36:15,329 - DEBUG - Нет данных для сохранения в c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\Files\update_tp.txt
2025-07-16 00:36:15,330 - DEBUG - Нет данных для сохранения в c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\Files\ccm_tp.txt
2025-07-16 00:36:15,330 - DEBUG - Нет данных для сохранения в c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\Files\unzip_tp.txt
2025-07-16 00:36:15,330 - DEBUG - Нет данных для сохранения в c:\Users\iakushin.n\Documents\GitHub\Python\ScriptOTIS\CollectionDirecory\Files\no_update_needed_tp.txt
2025-07-16 00:36:15,331 - INFO - Все серверы успешно собраны!
2025-07-16 00:36:15,331 - INFO - === Завершение работы скрипта ===
